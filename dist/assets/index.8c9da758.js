!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class t{constructor(t,e,i,s,r){this.x=t,this.y=e,this.width=i,this.height=s,this.color=r}draw(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}intersects(t){let e=this.width,i=this.height,s=t.width,r=t.height;if(s<=0||r<=0||e<=0||i<=0)return!1;let h=this.x,o=this.y,n=t.x,d=t.y;return s+=n,r+=d,e+=h,i+=o,(s<n||s>h)&&(r<d||r>o)&&(e<h||e>n)&&(i<o||i>d)}}class e extends t{constructor(t,e,i,s,r,h,o){super(t,e,i,s,r),this.dx=h,this.dy=o}move(){this.x+=this.dx,this.y+=this.dy}}class i extends t{constructor(t,e,i,s,r){super(t,e,i,s,r),this.visible=!0}draw(t){this.visible&&super.draw(t)}colides(t){return!(!this.visible||!this.intersects(t))&&(this.visible=!1,t.colides(this),!0)}}const s=document.getElementById("myCanvas"),r=s.getContext("2d"),h=new class extends e{constructor(t,e,i,s,r,h,o){super(t,e,i,s,r,h,o)}bounce(t,e){if((this.x<0||this.x+this.width>t)&&(this.dx*=-1),this.y<0)this.dy*=-1;else if(this.y+this.height>e)return!1;return!0}colides(t){this.intersects(t)&&(this.dy*=-1)}}(s.width/2,s.height-30,10,10,"#0095DD",2,-2),o=new class extends e{constructor(t,e,i,s,r){super(t,e,i,s,r,0,0),this.displacement=7,document.addEventListener("keydown",this.keyDownHandler.bind(this)),document.addEventListener("keyup",this.keyUpHandler.bind(this))}keyDownHandler(t){"Right"===t.key||"ArrowRight"===t.key?this.dx=this.displacement:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.dx=-this.displacement)}keyUpHandler(t){"Right"===t.key||"ArrowRight"===t.key?this.dx=0:"Left"!==t.key&&"ArrowLeft"!==t.key||(this.dx=0)}move(t){super.move(),this.x<0?this.x=0:this.x+this.width>t&&(this.x=t-this.width)}}((s.width-10)/2,s.height-10,75,10,"#0095DD"),n=[];for(let c=0;c<5;c++)for(let t=0;t<3;t++){let e=85*c+30,s=30*t+30;n.push(new i(e,s,75,20,"#0095DD"))}let d=0,l=!1;!function t(){r.clearRect(0,0,s.width,s.height),r.font="16px Arial",r.fillStyle="#0095DD",r.fillText("Score: "+d,8,20),n.forEach((t=>{t.draw(r),t.colides(h)&&d++})),h.draw(r),h.move(),l=!h.bounce(s.width,s.height),o.draw(r),o.move(s.width),h.colides(o),l?window.alert("Game over!"):15==d?window.alert("You won!"):window.requestAnimationFrame(t)}();
